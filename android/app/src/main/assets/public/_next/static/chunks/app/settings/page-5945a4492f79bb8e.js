(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{35449:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>V});var a=t(74459),i=t(25803),n=t(50346),l=t(2666),r=t(15690),c=t(66078),o=t(47159),d=t(55281),m=t(14264),u=t(8890),x=t(30647),h=t(26558),g=t(75339),p=t(10564),f=t(20316),v=t(61417),b=t(11780),j=t(25995),y=t(32096),N=t(57770),w=t(81890),k=t(94335);let S=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(w.bL,{className:(0,k.cn)("peer focus-visible:ring-ring focus-visible:ring-offset-background data-[state=checked]:bg-primary data-[state=unchecked]:bg-input inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",t),...i,ref:s,children:(0,a.jsx)(w.zi,{className:(0,k.cn)("bg-background pointer-events-none block h-5 w-5 rounded-full shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});S.displayName=w.bL.displayName;var C=t(55681),z=t(72527);let A=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(C.bL,{className:(0,k.cn)("grid gap-2",t),...i,ref:s})});A.displayName=C.bL.displayName;let D=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(C.q7,{ref:s,className:(0,k.cn)("border-primary text-primary ring-offset-background focus-visible:ring-ring aspect-square h-4 w-4 rounded-full border focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...i,children:(0,a.jsx)(C.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(z.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});D.displayName=C.q7.displayName;var E=t(60928),R=t(91327),F=t(69386),T=t.n(F),P=t(366),L=t(95433),J=t(2729);function B(e){let{...s}=e;return(0,a.jsx)(J.bL,{"data-slot":"popover",...s})}function I(e){let{...s}=e;return(0,a.jsx)(J.l9,{"data-slot":"popover-trigger",...s})}function U(e){let{className:s,align:t="center",sideOffset:i=4,...n}=e;return(0,a.jsx)(J.ZL,{children:(0,a.jsx)(J.UC,{"data-slot":"popover-content",align:t,sideOffset:i,className:(0,k.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",s),...n})})}var M=t(13202),O=t(11334);function V(){let{settings:e,saveSetting:s,refresh:t}=(0,b.t)(),{ensureVoicesLoaded:w,isSupported:k,speak:C,stop:z}=(0,j.m)(),F=(0,R.useRouter)(),[J,V]=(0,i.useState)(!1),[H,$]=(0,i.useState)(!1),[q,_]=(0,i.useState)(!1),[G,W]=(0,i.useState)(e.voiceRate||.9),[K,Q]=(0,i.useState)(e.voicePitch||1),[Y,Z]=(0,i.useState)([]),[X,ee]=(0,i.useState)(!1),[es]=(0,i.useState)((0,L.yn)()),[et,ea]=(0,i.useState)((0,L.t0)()),[ei,en]=(0,i.useState)(!1),[el,er]=(0,i.useState)(""),[ec,eo]=(0,i.useState)(!1),[ed,em]=(0,i.useState)(!1),eu=()=>{let t=window.speechSynthesis.getVoices();O.v.log("[Settings] Loading voices:",t.length,"available");let a=["albert","bad news","bahh","bells","boing","bubbles","cellos","deranged","good news","jester","organ","superstar","trinoids","whisper","wobble","zarvox","junior","ralph","fred","kathy","princess","bruce","flo","grandma","grandpa"],i=t.filter(e=>{if(!e.lang.startsWith("en"))return!1;let s=e.name.toLowerCase();if(a.some(e=>s.includes(e)))return!1;let t=["premium","enhanced","neural","natural","hd","google","microsoft"].some(e=>s.includes(e)),i=["samantha","alex","victoria","daniel","karen","moira","tessa","serena","allison","ava","susan","vicki","tom","aaron","nicky","diego","jorge","paulina"].some(e=>s.includes(e));return t||i}).sort((e,s)=>{let t=["premium","enhanced","neural","natural","hd"],a=t.some(s=>e.name.toLowerCase().includes(s)),i=t.some(e=>s.name.toLowerCase().includes(e));return a&&!i?-1:!a&&i?1:e.localService&&!s.localService?-1:!e.localService&&s.localService?1:e.name.localeCompare(s.name)});if(O.v.log("[Settings] Filtered voices:",i.length,"high-quality English voices"),Z(i),i.length>0){let t=null;for(let e of["Google US English","Samantha","Alex","Victoria","Karen","Daniel","Tessa","Tom"])if(t=i.find(s=>s.name.toLowerCase().includes(e.toLowerCase()))){O.v.log("[Settings] Selected priority voice:",t.name);break}!t&&i.length>0&&(t=i[0],O.v.log("[Settings] Using first available voice:",t.name)),t&&e.voiceName!==t.name&&(O.v.log("[Settings] Auto-selecting voice:",t.name),s("voiceName",t.name))}};(0,i.useEffect)(()=>{"speechSynthesis"in window&&(eu(),window.speechSynthesis.onvoiceschanged=eu)},[e.voiceName]);let ex=async()=>{try{k&&await w(),eu(),P.H.selection()}catch(e){eu()}};(0,i.useEffect)(()=>{em(!0),ea((0,L.t0)())},[]),(0,i.useEffect)(()=>{W(e.voiceRate||.9),Q(e.voicePitch||1),ed&&e.timezone&&ea((0,L.t0)())},[e.voiceRate,e.voicePitch,e.timezone,ed]);let eh=async()=>{try{O.v.log("[Settings] Exporting user data...");let e=await (0,E.uv)();if(!e||0===Object.keys(e).length){alert("No data to export. Make sure you have some biases or settings to backup.");return}let s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t=URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download="bias-daily-backup-".concat(new Date().toISOString().slice(0,10),".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t),O.v.log("[Settings] Data exported successfully"),$(!0),setTimeout(()=>$(!1),3e3),P.H.success()}catch(e){O.v.error("[Settings] Export failed:",e),alert("Failed to export data. Please check your browser permissions and try again.")}},eg=async e=>{var s;let a=null===(s=e.target.files)||void 0===s?void 0:s[0];if(a){if(!a.name.toLowerCase().endsWith(".json")){alert("Please select a valid JSON backup file."),e.target.value="";return}if(a.size>0xa00000){alert("File is too large. Please select a backup file smaller than 10MB."),e.target.value="";return}V(!0);try{O.v.log("[Settings] Importing data from file:",a.name);let e=await a.text(),s=JSON.parse(e);if(!s||"object"!=typeof s)throw Error("Invalid data format");if(!["settings","userBiases","favorites","progress","streak"].some(e=>e in s))throw Error("This does not appear to be a valid Bias Daily backup file.");await (0,E.Jt)(s),await t(),O.v.log("[Settings] Data imported successfully"),_(!0),P.H.success(),setTimeout(()=>{_(!1),F.refresh()},2e3)}catch(e){O.v.error("[Settings] Import failed:",e),e instanceof SyntaxError?alert("Invalid JSON file. Please check the file format and try again."):e instanceof Error&&e.message.includes("backup file")?alert(e.message):alert("Failed to import data. Please check the file format and try again.")}finally{V(!1),e.target.value=""}}},ep=async()=>{if(!("Notification"in window))return alert("This browser does not support notifications"),!1;try{let e=await Notification.requestPermission();if("granted"===e)return await s("dailyReminder",!0),"granted"===Notification.permission&&new Notification("Bias Daily",{body:"Daily reminders enabled! You'll be notified when a new bias is available.",icon:"/icon-192.jpg"}),P.H.success(),!0;return await s("dailyReminder",!1),"denied"===e&&alert("Notifications were denied. Please enable them in your browser settings to receive daily reminders."),!1}catch(e){return O.v.error("[DailyBias] Notification permission error:",e),await s("dailyReminder",!1),alert("Failed to request notification permission. Please try again."),!1}},ef=async e=>{e?await ep():await s("dailyReminder",!1)},ev=async()=>{W(.9),Q(1),s("voiceRate",.9),s("voicePitch",1),P.H.success()},eb=e=>{W(e)},ej=()=>{s("voiceRate",G)},ey=e=>{Q(e)},eN=()=>{s("voicePitch",K)},ew=e=>{(0,L._j)(e)&&(s("timezone",e),ea((0,L.t0)()),P.H.selection())},ek=async e=>{try{if(O.v.log("[Settings] Timezone auto-detect:",e?"enabled":"disabled"),eo(!0),await s("timezoneAutoDetect",e),e){let e=(0,L.t0)();O.v.log("[Settings] Auto-detected timezone:",e.timezone),await s("timezone",e.timezone),ea(e)}P.H.selection()}catch(e){O.v.error("[Settings] Error toggling timezone auto-detect:",e),alert("Failed to update timezone settings. Please try again.")}finally{eo(!1)}},eS=async()=>{try{if(ee(!0),!k){alert("Speech synthesis is not supported in this browser.");return}await w();let s=e.voiceName||"";if(!s){alert("Please select a voice first.");return}let t=s||"Voice";O.v.log("[Settings] Testing voice:",s),C("Hello. This is ".concat(t,". Testing voice quality and pronunciation."),s||void 0),setTimeout(()=>{z(),ee(!1)},3e3),P.H.selection()}catch(e){O.v.error("[Settings] Voice test failed:",e),alert("Failed to test voice. Please try again.")}finally{ee(!1)}},eC=async()=>{try{en(!0),k&&await w(),eu(),er("")}catch(e){}},ez=Y.filter(e=>{var s,t;let a=el.trim().toLowerCase();return!a||e.name.toLowerCase().includes(a)||null!==(t=null===(s=e.lang)||void 0===s?void 0:s.toLowerCase().includes(a))&&void 0!==t&&t});return(0,a.jsxs)("div",{className:"min-h-screen pb-20 sm:pb-24",children:[(0,a.jsx)(f.i,{style:e.backgroundStyle,seed:456}),(0,a.jsx)(p.P,{}),(0,a.jsx)("main",{className:"mx-auto w-full max-w-2xl px-3 py-4 sm:px-4 sm:py-6 md:py-8",children:(0,a.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"mb-1 text-2xl font-bold sm:mb-2 sm:text-3xl",children:"Settings"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Customize your Bias Daily experience"})]}),(0,a.jsxs)("div",{className:"glass space-y-4 rounded-xl p-4 sm:space-y-6 sm:rounded-2xl sm:p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"mb-1 flex items-center gap-2 text-lg font-semibold sm:text-xl",children:[(0,a.jsx)(n.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Appearance"]}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Customize the look and feel"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(N.J,{children:"Background Style"}),(0,a.jsxs)(A,{value:e.backgroundStyle,onValueChange:e=>s("backgroundStyle",e),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(D,{value:"gradient",id:"gradient"}),(0,a.jsx)(N.J,{htmlFor:"gradient",className:"cursor-pointer font-normal",children:"Gradient (Animated)"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(D,{value:"glass",id:"glass"}),(0,a.jsx)(N.J,{htmlFor:"glass",className:"cursor-pointer font-normal",children:"Glass (Blurred)"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(D,{value:"minimal",id:"minimal"}),(0,a.jsx)(N.J,{htmlFor:"minimal",className:"cursor-pointer font-normal",children:"Minimal (Solid)"})]})]})]})]}),(0,a.jsxs)("div",{className:"glass space-y-3 rounded-xl p-4 sm:space-y-4 sm:rounded-2xl sm:p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"mb-1 flex items-center gap-2 text-lg font-semibold sm:text-xl",children:[(0,a.jsx)(l.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Notifications"]}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Get reminded about daily biases"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(N.J,{htmlFor:"daily-reminder",className:"cursor-pointer",children:"Daily Reminder"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Receive a notification when a new bias is available"})]}),(0,a.jsx)(S,{id:"daily-reminder",checked:e.dailyReminder,onCheckedChange:ef,className:"cursor-pointer"})]})]}),(0,a.jsxs)("div",{className:"glass space-y-3 rounded-xl p-4 sm:space-y-4 sm:rounded-2xl sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"mb-1 flex items-center gap-2 text-lg font-semibold sm:text-xl",children:[(0,a.jsx)(r.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Voice Settings"]}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Text-to-speech preferences"})]}),e.voiceEnabled&&(0,a.jsxs)(y.$,{variant:"outline",size:"sm",onClick:ev,className:"cursor-pointer bg-transparent","aria-label":"Reset voice settings to default",children:[(0,a.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Reset"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(N.J,{htmlFor:"voice-enabled",className:"cursor-pointer",children:"Enable Voice"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Read bias content aloud"})]}),(0,a.jsx)(S,{id:"voice-enabled",checked:e.voiceEnabled,onCheckedChange:e=>s("voiceEnabled",e),className:"cursor-pointer"})]}),e.voiceEnabled&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N.J,{htmlFor:"voice-select",children:"Voice"}),(0,a.jsxs)(B,{open:ei,onOpenChange:en,children:[(0,a.jsx)(I,{asChild:!0,children:(0,a.jsx)(y.$,{id:"voice-select",variant:"outline",className:"w-full justify-between bg-transparent",onClick:eC,children:(0,a.jsx)("span",{className:"truncate",children:e.voiceName||"Select voice"})})}),(0,a.jsxs)(U,{className:"w-80 p-0",align:"start",children:[(0,a.jsxs)("div",{className:"border-b p-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Select a voice"}),(0,a.jsxs)("div",{className:"relative mt-3",children:[(0,a.jsx)("input",{type:"text",inputMode:"search",placeholder:"Search voices by name or language",value:el,onChange:e=>er(e.target.value),className:"bg-secondary text-foreground placeholder:text-muted-foreground w-full rounded-md border px-9 py-2"}),(0,a.jsx)(o.A,{className:"text-muted-foreground pointer-events-none absolute left-2 top-1/2 h-4 w-4 -translate-y-1/2"})]})]}),(0,a.jsxs)("div",{className:"max-h-64 overflow-auto",children:[ez.map((t,i)=>{let n=e.voiceName===t.name;return(0,a.jsxs)("button",{className:"flex w-full items-center justify-between gap-3 px-4 py-3 text-left transition-colors hover:bg-accent focus:bg-accent focus:outline-none focus:ring-2 focus:ring-ring ".concat(n?"bg-accent/60":""),onClick:()=>{s("voiceName",t.name),en(!1),P.H.selection()},children:[(0,a.jsxs)("div",{className:"min-w-0 grow",children:[(0,a.jsx)("div",{className:"truncate font-medium",children:t.name}),(0,a.jsx)("div",{className:"text-muted-foreground mt-0.5 text-xs",children:t.lang||"en"})]}),(0,a.jsxs)("div",{className:"flex shrink-0 items-center gap-2",children:[t.localService&&(0,a.jsx)("span",{className:"text-xs",children:"⭐"}),n&&(0,a.jsx)(d.A,{className:"h-4 w-4"})]})]},"".concat(t.name,"-").concat(t.voiceURI||i))}),0===ez.length&&(0,a.jsx)("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"No voices found"}),(0,a.jsx)("div",{className:"border-t p-3",children:(0,a.jsx)(y.$,{size:"sm",variant:"ghost",className:"w-full",onClick:ex,children:"Refresh voices"})})]})]})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-blue-50 p-3 dark:bg-blue-900/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Currently Active Voice:"})]}),(0,a.jsx)("div",{className:"mt-1 text-sm text-blue-800 dark:text-blue-200",children:e.voiceName||"None selected"}),(0,a.jsxs)("div",{className:"mt-1 text-xs text-blue-600 dark:text-blue-300",children:["Device: ",/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile/i.test(navigator.userAgent)||window.innerWidth<=768||"ontouchstart"in window?"Mobile":"Desktop"]}),(0,a.jsx)(y.$,{size:"sm",variant:"outline",className:"mt-2 h-8 text-xs",onClick:()=>{if(window.speechSynthesis){let s=new SpeechSynthesisUtterance("Hello, this is the current voice speaking.");s.rate=.9,s.pitch=1,s.volume=1;let t=window.speechSynthesis.getVoices().find(s=>s.name===e.voiceName);t&&(s.voice=t,s.lang=t.lang),window.speechSynthesis.speak(s)}},children:"\uD83D\uDD0A Test Current Voice"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("p",{className:"text-muted-foreground text-xs",children:"⭐ indicates high-quality local voices"}),(0,a.jsx)(y.$,{size:"sm",variant:"ghost",className:"cursor-pointer",onClick:ex,children:"Refresh voices"}),(0,a.jsx)(y.$,{size:"sm",className:"cursor-pointer",onClick:eS,disabled:X,children:X?"Testing...":"Test voice"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)(N.J,{htmlFor:"voice-rate",children:["Speech Rate: ",G.toFixed(1),"x"]})}),(0,a.jsx)("input",{type:"range",id:"voice-rate",min:"0.5",max:"2",step:"0.1",value:G,onInput:e=>eb(parseFloat(e.currentTarget.value)),onChange:e=>eb(parseFloat(e.currentTarget.value)),onMouseUp:ej,onTouchEnd:ej,className:"bg-secondary accent-primary h-2 w-full cursor-pointer appearance-none rounded-lg"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)(N.J,{htmlFor:"voice-pitch",children:["Pitch: ",K.toFixed(1),"x"]})}),(0,a.jsx)("input",{type:"range",id:"voice-pitch",min:"0.5",max:"2",step:"0.1",value:K,onInput:e=>ey(parseFloat(e.currentTarget.value)),onChange:e=>ey(parseFloat(e.currentTarget.value)),onMouseUp:eN,onTouchEnd:eN,className:"bg-secondary accent-primary h-2 w-full cursor-pointer appearance-none rounded-lg"})]})]})]}),(0,a.jsxs)("div",{className:"glass space-y-3 rounded-xl p-4 sm:space-y-4 sm:rounded-2xl sm:p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"mb-1 text-lg font-semibold sm:text-xl",children:M.CQ.name}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Configure daily bias selection"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(N.J,{htmlFor:"mix-user-biases",className:"cursor-pointer",children:"Include Custom Biases"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Mix your custom biases into the daily selection"})]}),(0,a.jsx)(S,{id:"mix-user-biases",checked:e.mixUserBiasesInDaily,onCheckedChange:e=>s("mixUserBiasesInDaily",e),className:"cursor-pointer"})]})]}),(0,a.jsxs)("div",{className:"glass space-y-3 rounded-xl p-4 sm:space-y-4 sm:rounded-2xl sm:p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"mb-1 flex items-center gap-2 text-lg font-semibold sm:text-xl",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Timezone"]}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Configure your local timezone for accurate daily bias timing"})]}),(0,a.jsx)("div",{className:"space-y-4",children:ed?(0,a.jsxs)(a.Fragment,{children:[!1!==e.timezoneAutoDetect&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-between rounded-lg bg-green-50 p-3 dark:bg-green-900/20",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-green-100 dark:bg-green-800",children:(0,a.jsx)(d.A,{className:"h-3 w-3 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-green-800 dark:text-green-200",children:["Auto-detected: ",et.city," (",et.region,")"]}),(0,a.jsxs)("div",{className:"text-xs text-green-600 dark:text-green-300",children:[et.timezone," ",et.offset," • Detected automatically"]})]})]})}),(0,a.jsx)(y.$,{variant:"outline",size:"sm",onClick:()=>ek(!1),disabled:ec,className:"w-full justify-center bg-transparent text-sm",children:ec?"Switching...":"Use different timezone"})]}),!1===e.timezoneAutoDetect&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-between rounded-lg bg-blue-50 p-3 dark:bg-blue-900/20",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-blue-100 dark:bg-blue-800",children:(0,a.jsx)(m.A,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Manual Selection Active"}),(0,a.jsx)("div",{className:"text-xs text-blue-600 dark:text-blue-300",children:"Using manually selected timezone"})]})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N.J,{htmlFor:"timezone-select",children:"Select Timezone"}),(0,a.jsx)("select",{id:"timezone-select",value:e.timezone||et.timezone,onChange:e=>ew(e.target.value),className:"bg-secondary border-border text-foreground focus:ring-ring w-full cursor-pointer rounded-lg border px-3 py-2 focus:ring-2 focus:outline-none",children:es.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)(y.$,{variant:"outline",size:"sm",onClick:()=>ek(!0),disabled:ec,className:"w-full justify-center bg-transparent text-sm",children:ec?"Switching...":"Switch back to auto-detect"})})]})]}):(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsx)("div",{className:"flex items-center justify-between rounded-lg bg-gray-50 p-3 dark:bg-gray-900/20",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800",children:(0,a.jsx)("div",{className:"h-3 w-3 animate-pulse rounded-full bg-gray-300 dark:bg-gray-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"h-4 w-32 animate-pulse rounded bg-gray-200 dark:bg-gray-700"}),(0,a.jsx)("div",{className:"mt-1 h-3 w-24 animate-pulse rounded bg-gray-200 dark:bg-gray-700"})]})]})})})})]}),(0,a.jsxs)("div",{className:"glass space-y-3 rounded-xl p-4 sm:space-y-4 sm:rounded-2xl sm:p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"mb-1 flex items-center gap-2 text-lg font-semibold sm:text-xl",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Data Management"]}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Export or import your data"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(y.$,{onClick:eh,variant:"outline",className:"w-full justify-start bg-transparent",children:[(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Export All Data"]}),H&&(0,a.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Data exported successfully!"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"file",accept:".json",onChange:eg,className:"hidden",id:"import-file",disabled:J}),(0,a.jsx)(N.J,{htmlFor:"import-file",children:(0,a.jsx)(y.$,{variant:"outline",className:"w-full justify-start bg-transparent",disabled:J,asChild:!0,children:(0,a.jsxs)("span",{children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"}),J?"Importing...":"Import Data"]})})})]}),q&&(0,a.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Data imported successfully!"}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs",children:"Export includes your custom biases, favorites, and settings. Import will merge with existing data."})]})]}),(0,a.jsxs)("div",{className:"glass space-y-3 rounded-xl p-4 sm:space-y-4 sm:rounded-2xl sm:p-6",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("h2",{className:"mb-1 flex items-center gap-2 text-lg font-semibold sm:text-xl",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"About"]})}),(0,a.jsxs)("div",{className:"text-muted-foreground space-y-2 text-xs sm:text-sm",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-foreground",children:"Bias Daily"})," helps you learn one cognitive bias every day from Elon Musk's curated list of 50 biases."]}),(0,a.jsx)("p",{children:"All your data is stored locally on your device. Nothing is sent to any server. The app works completely offline after the first load."}),(0,a.jsx)("p",{children:"Version 1.0.0"}),(0,a.jsx)(T(),{href:"/about",className:"text-primary inline-block hover:underline",children:"Learn more"})]})]})]})}),(0,a.jsx)(v.A,{})]})}},66946:(e,s,t)=>{Promise.resolve().then(t.bind(t,35449))}},e=>{var s=s=>e(e.s=s);e.O(0,[209,223,358],()=>s(66946)),_N_E=e.O()}]);