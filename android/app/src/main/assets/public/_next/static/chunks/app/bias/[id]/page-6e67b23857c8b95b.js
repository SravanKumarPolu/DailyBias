(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[472],{23812:(e,s,a)=>{"use strict";a.d(s,{BiasDetailClient:()=>b});var t=a(74459),i=a(25803),r=a(91327),l=a(38070),n=a(10564),c=a(20316),d=a(24135),o=a(61417),m=a(68817),x=a(69386),h=a.n(x),u=a(70128),p=a(80992),g=a(61983),j=a(96481),y=a(31854);function f(e){let{currentBias:s,allBiases:a,maxResults:i=3}=e,r=a.filter(e=>e.id!==s.id).map(e=>{let a=0;e.category===s.category&&(a+=10);let t=s.title.toLowerCase().split(" "),i=e.title.toLowerCase().split(" ");a+=3*t.filter(e=>e.length>4&&i.includes(e)).length;let r=s.summary.toLowerCase().split(" "),l=e.summary.toLowerCase().split(" ");return{bias:e,score:a+=r.filter(e=>e.length>5&&l.includes(e)).length}}).sort((e,s)=>s.score-e.score).slice(0,i).map(e=>e.bias);return 0===r.length?null:(0,t.jsx)(m.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mt-8",children:(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-primary/5 via-accent/5 to-transparent border border-primary/20 p-6 backdrop-blur-sm",children:[(0,t.jsx)("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),(0,t.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,t.jsx)(u.A,{className:"h-5 w-5 text-primary"}),(0,t.jsx)("h3",{className:"font-serif text-lg font-semibold sm:text-xl",children:"Related Biases"}),(0,t.jsx)(p.A,{className:"h-4 w-4 text-primary/60"})]}),(0,t.jsx)("div",{className:"space-y-3",children:r.map((e,s)=>(0,t.jsx)(m.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+.1*s,duration:.3},children:(0,t.jsxs)(h(),{href:"/bias/".concat(e.id),className:"group flex items-start gap-3 rounded-lg p-3 transition-all duration-200 hover:bg-primary/5 hover:shadow-depth-1",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary/10 transition-transform duration-200 group-hover:scale-110 group-hover:bg-primary/20",children:(0,t.jsx)(g.A,{className:"h-5 w-5 text-primary transition-transform duration-200 group-hover:translate-x-0.5"})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("div",{className:"mb-1 flex items-center gap-2",children:(0,t.jsx)(j.E,{className:"text-xs ".concat((0,y.e)(e.category)),variant:"secondary",children:(0,y.F)(e.category)})}),(0,t.jsx)("h4",{className:"mb-1 font-medium leading-tight group-hover:text-primary transition-colors",children:e.title}),(0,t.jsx)("p",{className:"text-muted-foreground line-clamp-2 text-sm leading-relaxed",children:e.summary})]})]})},e.id))}),(0,t.jsx)(m.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.3},className:"mt-4 text-center",children:(0,t.jsxs)(h(),{href:"/all",className:"text-sm text-primary hover:underline underline-offset-2 transition-colors",children:["Explore all ",a.length," biases â†’"]})})]})})}var v=a(40233),N=a(32096);function b(){let e=(0,r.useParams)(),s=(0,r.useRouter)(),{allBiases:a,biasesLoading:m,toggleFavorite:x,isFavorite:h,settings:u,toggleMastered:p,isMastered:g,markAsViewed:j}=(0,v.n)(),[y,b]=(0,i.useState)(null),[w,k]=(0,i.useState)(!1),[C,P]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(a.length>0&&e.id){let s=a.find(s=>s.id===e.id);s&&(b(s),h(s.id).then(k),g(s.id).then(P),j(s.id))}},[a,e.id]);let A=async()=>{y&&(await x(y.id),k(!w))},B=async()=>{y&&P(await p(y.id))};return m?(0,t.jsxs)("div",{className:"min-h-screen pb-24",children:[(0,t.jsx)(c.i,{style:u.backgroundStyle,seed:0}),(0,t.jsx)(n.P,{}),(0,t.jsx)("main",{className:"mx-auto w-full max-w-2xl px-4 py-8",children:(0,t.jsx)("div",{className:"glass rounded-2xl p-12 text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})})}),(0,t.jsx)(o.A,{})]}):y?(0,t.jsxs)("div",{className:"min-h-screen pb-24",children:[(0,t.jsx)(c.i,{style:u.backgroundStyle,seed:y.id.length}),(0,t.jsx)(n.P,{}),(0,t.jsxs)("main",{id:"main-content",className:"mx-auto w-full max-w-2xl px-4 py-8",children:[(0,t.jsxs)(N.$,{variant:"ghost",onClick:()=>s.back(),className:"mb-6 cursor-pointer",children:[(0,t.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,t.jsx)(d.F,{bias:y,variant:"detailed",isFavorite:w,onToggleFavorite:A,isMastered:C,onToggleMastered:B}),(0,t.jsx)(f,{currentBias:y,allBiases:a,maxResults:3})]}),(0,t.jsx)(o.A,{})]}):(0,t.jsxs)("div",{className:"min-h-screen pb-24",children:[(0,t.jsx)(c.i,{style:u.backgroundStyle,seed:0}),(0,t.jsx)(n.P,{}),(0,t.jsx)("main",{className:"mx-auto w-full max-w-2xl px-4 py-8",children:(0,t.jsxs)("div",{className:"glass space-y-4 rounded-2xl p-12 text-center",children:[(0,t.jsx)("p",{className:"text-lg font-medium",children:"Bias not found"}),(0,t.jsx)(N.$,{onClick:()=>s.back(),children:"Go Back"})]})}),(0,t.jsx)(o.A,{})]})}},72137:(e,s,a)=>{Promise.resolve().then(a.bind(a,23812))}},e=>{var s=s=>e(e.s=s);e.O(0,[209,223,358],()=>s(72137)),_N_E=e.O()}]);